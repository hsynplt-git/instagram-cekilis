<!DOCTYPE html>
<html>
<head>
<title>Instagram Ã‡ekiliÅŸ</title>
<style>
body{font-family:Arial;background:#111;color:white;text-align:center;padding:30px}
button{padding:15px 30px;font-size:18px;background:#e1306c;color:white;border:none;border-radius:10px}
img{border-radius:50%}
</style>
</head>
<body>

<h1>Instagram Ã‡ekiliÅŸ Sistemi ðŸŽ‰</h1>

<input id="url" style="width:80%;padding:10px" value="https://www.instagram.com/reel/DTFGE4lCLUM/"><br><br>
<button onclick="draw()">Ã‡ekiliÅŸi BaÅŸlat</button>

<div id="status"></div>
<div id="winners"></div>

<script>
async function draw(){
 document.getElementById("status").innerText="Yorumlar Ã§ekiliyor...";
 const r=await fetch("/draw",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:document.getElementById("url").value})});
 const d=await r.json();

 document.getElementById("status").innerHTML="Ã‡ekiliÅŸ ID: <b>"+d.draw_id+"</b><br>Toplam: "+d.total_comments;

 let h="<h2>AsÄ±l Kazananlar</h2>";
 d.main_winners.forEach(w=>h+=`<img src="${w.photo}" width="80"><br>@${w.username}<br>`);

 h+="<h2>Yedekler</h2>";
 d.backup_winners.forEach(w=>h+=`<img src="${w.photo}" width="80"><br>@${w.username}<br>`);

 h+=`<br><a href="${d.story}" target="_blank" style="color:#00ffcc">ðŸ“² Story GÃ¶rselini AÃ§</a>`;
 document.getElementById("winners").innerHTML=h;
}
</script>

</body>
</html>
